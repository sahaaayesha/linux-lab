#include <stdio.h>

int main() {
    int N = 5;
    int state[5]; // 0=Thinking, 1=Hungry, 2=Eating
    for (int i = 0; i < N; i++)
        state[i] = 0;

    for (int round = 0; round < 3; round++) {
        for (int i = 0; i < N; i++) {
            printf("Philosopher %d is Hungry\n", i + 1);
            if (state[(i + 4) % N] != 2 && state[(i + 1) % N] != 2) {
                state[i] = 2;
                printf("Philosopher %d starts Eating\n", i + 1);
            } else {
                printf("Philosopher %d waits\n", i + 1);
            }
        }
        for (int i = 0; i < N; i++) {
            if (state[i] == 2) {
                state[i] = 0;
                printf("Philosopher %d finished Eating and starts Thinking\n", i + 1);
            }
        }
        printf("---- Round %d complete ----\n", round + 1);
    }
    return 0;
}
